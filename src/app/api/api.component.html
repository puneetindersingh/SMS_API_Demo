<div class="container">
    <h3>Send SMS</h3>
</div>
<div class="col-md-6">
    <form [formGroup]="smsForm">
        <div class="form-group">
            <label for="phoneNumber">Send To</label>
            <input type="text" id="phoneNumber" class="form-control" formControlName="phoneNumber" placeholder="+61412345678">
            <div *ngIf="smsForm.controls['phoneNumber'].hasError('required')
                        && smsForm.controls['phoneNumber'].touched" class="small-error">
                        Phone number required
            </div>
            <div *ngIf="smsForm.controls['phoneNumber'].hasError('pattern')
                        && smsForm.controls['phoneNumber'].touched" class="small-error">
                        Phone number must match format: +61412345678 
            </div>
        </div>
        <div class="form-group">
            <label for="message">Message</label>
            <textarea rows="4" id="message" class="form-control" formControlName="message" maxlength="500"></textarea>
            <div *ngIf="smsForm.controls['message'].hasError('required')
                        && smsForm.controls['message'].touched" class="small-error">
                        Message required
            </div>
        </div>
        <button class="btn btn-warning" (click)="onReset()">Reset All</button>
        <button class="btn btn-primary pull-right" (click)="onSubmit()" [disabled]="!smsForm.valid">Submit</button>
        <button class="btn btn-success pull-right" style="margin-right: 5px" (click)="onPoll()" *ngIf="messageID">Poll</button>
    </form>
</div>
<div class="col-md-6" *ngIf="responses.length > 0">
    <label>Response</label>
    <div class="panel panel-primary">
        <div class="list-group">
            <div class="list-group-item" *ngFor="let response of responses">
                <p>{{ response }}</p>
            </div>
        </div>
    </div>
</div>